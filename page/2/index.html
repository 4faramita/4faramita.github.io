<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 | 之言片语</title>

  
  <meta name="author" content="4faramita">
  

  
  <meta name="description" content="Buried alive.">
  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="之言片语"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="之言片语" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">之言片语</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/tags/algorithm">Algorithms</a></li>
      
        <li><a href="/tags/javascript">JavaScript</a></li>
      
        <li><a href="/tags/thinking">Thoughts</a></li>
      
        <li><a href="/tags/works">Works</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2017/05/16/longest-palindromic-substring/"><span>5. Longest Palindromic Substring</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/05/16/longest-palindromic-substring/" rel="bookmark">
        <time class="entry-date published" datetime="2017-05-16T09:09:34.000Z">
          2017-05-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><strong>Difficulty: Medium</strong></p>
<p></p><p>Given a string <b>s</b>, find the longest palindromic substring in <b>s</b>. You may assume that the maximum length of <b>s</b> is 1000.</p>

<p></p><p><b>Example:</b><br></p><pre><br><b>Input:</b> “babad”<p></p>
<p><b>Output:</b> “bab”</p>
<p><b>Note:</b> “aba” is also a valid answer.<br></p></pre><p></p>
<p></p><p><b>Example:</b><br></p><pre><br><b>Input:</b> “cbbd”<p></p>
<p><b>Output:</b> “bb”<br></p></pre><p></p>
<p><b>题意:</b><br><br>找到给定字符串中最长的（连续）回文子字符串</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>首先想到的方法是设置一个 len(s) 到 1 的窗口，在字符串上滑动，因为是倒序，所以一旦找到就是最长，可以直接返回。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: str</div><div class="line">        """</div><div class="line">        length = len(s)</div><div class="line">        <span class="keyword">if</span> length &lt;= <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> s</div><div class="line">        max_range = (<span class="number">0</span>, <span class="number">0</span>)</div><div class="line">        found = <span class="keyword">False</span></div><div class="line">        <span class="keyword">for</span> win <span class="keyword">in</span> xrange(length, <span class="number">0</span>, <span class="number">-1</span>):</div><div class="line">            <span class="keyword">for</span> head <span class="keyword">in</span> xrange(<span class="number">0</span>, length - win + <span class="number">1</span>):</div><div class="line">                cur_str = s[head:head + win]</div><div class="line">                <span class="keyword">if</span> win % <span class="number">2</span> == <span class="number">0</span>:  <span class="comment"># even</span></div><div class="line">                    l_half, r_half = cur_str[:win / <span class="number">2</span>], cur_str[win / <span class="number">2</span>:]</div><div class="line">                <span class="keyword">elif</span> win % <span class="number">2</span> == <span class="number">1</span>:  <span class="comment"># odd</span></div><div class="line">                    l_half, r_half = cur_str[:win // <span class="number">2</span>], cur_str[win // <span class="number">2</span> + <span class="number">1</span>:]</div><div class="line">                <span class="keyword">if</span> l_half == r_half[::<span class="number">-1</span>]:</div><div class="line">                    max_range = (head, head + win)</div><div class="line">                    found = <span class="keyword">True</span></div><div class="line">                    <span class="keyword">break</span></div><div class="line">            <span class="keyword">if</span> found:</div><div class="line">                <span class="keyword">break</span></div><div class="line">        <span class="keyword">return</span> s[max_range[<span class="number">0</span>]:max_range[<span class="number">1</span>]]</div></pre></td></tr></table></figure></p>
<p>一点 tip：本来对比窗口内整个字符串与其反向是否相等，未能满足实验复杂度要求；后来选择将字符串切成两半，对比前一半与后一半的反转，时间复杂度要求即可满足。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/algorithm/">algorithm</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/05/16/longest-palindromic-substring/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/05/09/remove-nth-node-from-end-of-list/"><span>19. Remove Nth Node From End of List</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/05/09/remove-nth-node-from-end-of-list/" rel="bookmark">
        <time class="entry-date published" datetime="2017-05-09T12:35:55.000Z">
          2017-05-09
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><strong>Difficulty: Medium</strong></p>
<p></p><p>Given a linked list, remove the <i>n</i><sup>th</sup> node from the end of list and return its head.</p>

<p><br>For example,</p>

<pre>
   Given linked list: <b>1-&gt;2-&gt;3-&gt;4-&gt;5</b>, and <b><i>n</i> = 2</b>.

   After removing the second node from the end, the linked list becomes <b>1-&gt;2-&gt;3-&gt;5</b>.
</pre>

<p><br><b>Note:</b><br><br>Given <i>n</i> will always be valid.<br><br>Try to do this in one pass.<br></p>

<p><b>题意:</b><br><br>删除链表倒数第 n 个节点。<br>要求仅遍历一遍。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>最简单的方法：快慢指针。<br>快指针领先慢指针 n - 1，快指针到达末尾时，删除慢指针指向元素。<br>为了删除方便，再定义 slow_p 指向慢指针之前元素。<br>顺便，可以判断一些边际状况：<br>fast, slow 与 slow_p 都初始化为 head，因此：</p>
<ol>
<li>若 fast == slow == slow_p，则原链表只有一个节点，并且删除这个节点，返回 []</li>
<li>若 slow == slow_p，则需要删除第一个元素，返回 head.next</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Definition for singly-linked list.</span></div><div class="line"><span class="comment"># class ListNode(object):</span></div><div class="line"><span class="comment">#     def __init__(self, x):</span></div><div class="line"><span class="comment">#         self.val = x</span></div><div class="line"><span class="comment">#         self.next = None</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeNthFromEnd</span><span class="params">(self, head, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type head: ListNode</div><div class="line">        :type n: int</div><div class="line">        :rtype: ListNode</div><div class="line">        """</div><div class="line">        fast, slow, slow_p = head, head, head</div><div class="line">        n_copy = n - <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">while</span> n_copy &gt; <span class="number">0</span>:</div><div class="line">            fast = fast.next</div><div class="line">            n_copy -= <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">while</span> fast.next:</div><div class="line">            fast = fast.next</div><div class="line">            slow_p = slow</div><div class="line">            slow = slow.next</div><div class="line"></div><div class="line">        <span class="keyword">if</span> fast == slow == slow_p:</div><div class="line">            <span class="keyword">return</span> []</div><div class="line">        <span class="keyword">elif</span> slow == slow_p:</div><div class="line">            <span class="keyword">return</span> head.next</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            slow_p.next = slow.next</div><div class="line">            <span class="keyword">return</span> head</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/algorithm/">algorithm</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/05/09/remove-nth-node-from-end-of-list/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/05/02/merge-k-sorted-lists/"><span>23. Merge k Sorted Lists</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/05/02/merge-k-sorted-lists/" rel="bookmark">
        <time class="entry-date published" datetime="2017-05-02T13:35:48.000Z">
          2017-05-02
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><strong>Difficulty: Hard</strong></p>
<p></p><p><br>Merge <i>k</i> sorted linked lists and return it as one sorted list. Analyze and describe its complexity.<br></p>

<p><b>题意:</b><br><br>合并 k 个有序链表</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>算法有如下几个要点：</p>
<ol>
<li>去除空链表</li>
<li>k 个指针指向每个链表当前最小元素</li>
<li>维护一个当前最小值数组，其中只包含每个链表当前最小值或 None</li>
<li>每次抽走最小值，更新最小值数组。</li>
</ol>
<p>单独使用一个最小值数组的原因，也是本算法一个小想法：主循环的判断条件是：<code>while eval(&#39; or &#39;.join(curr)) is not None:</code>，其中 <code>curr</code> 是最小值数组。<br>用一个 <code>eval()</code> 来判断是否所有链表都遍历完毕。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Definition for singly-linked list.</span></div><div class="line"><span class="comment"># class ListNode(object):</span></div><div class="line"><span class="comment">#     def __init__(self, x):</span></div><div class="line"><span class="comment">#         self.val = x</span></div><div class="line"><span class="comment">#         self.next = None</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type lists: List[ListNode]</div><div class="line">        :rtype: ListNode</div><div class="line">        """</div><div class="line"></div><div class="line">        <span class="comment"># copy lists</span></div><div class="line">        pts = []</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> lists:</div><div class="line">            pts.append(i)</div><div class="line">        </div><div class="line">        length = len(lists)</div><div class="line">        copy_index, copy_length = <span class="number">0</span>, length</div><div class="line">        <span class="keyword">while</span> copy_length &gt; <span class="number">0</span> <span class="keyword">and</span> copy_index &lt; copy_length:</div><div class="line">            <span class="keyword">if</span> pts[copy_index] <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">                <span class="keyword">del</span>(pts[copy_index])</div><div class="line">                copy_length -= <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                copy_index += <span class="number">1</span></div><div class="line">                </div><div class="line">        length = len(pts)</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> length == <span class="number">0</span>:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">elif</span> length == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> pts[<span class="number">0</span>]</div><div class="line">            </div><div class="line">        head = ListNode(<span class="string">'head'</span>)</div><div class="line">        <span class="comment"># working pointer</span></div><div class="line">        p = head</div><div class="line"></div><div class="line">        curr = []</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> pts:</div><div class="line">            <span class="keyword">if</span> i <span class="keyword">and</span> (i.val <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>):</div><div class="line">                curr.append(str(i.val))</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                curr.append(<span class="string">'None'</span>)</div><div class="line">        <span class="keyword">while</span> eval(<span class="string">' or '</span>.join(curr)) <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</div><div class="line">            min_val, min_index = float(<span class="string">'inf'</span>), <span class="number">-1</span></div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> xrange(length):</div><div class="line">                <span class="keyword">if</span> pts[i] <span class="keyword">and</span> (pts[i].val <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>) <span class="keyword">and</span> pts[i].val &lt; min_val:</div><div class="line">                    min_val, min_index = pts[i].val, i</div><div class="line">            p.next = pts[min_index]</div><div class="line">            p = p.next</div><div class="line">            <span class="keyword">if</span> pts[min_index]:</div><div class="line">                pts[min_index] = pts[min_index].next</div><div class="line">                <span class="keyword">if</span> pts[min_index]:</div><div class="line">                    curr[min_index] = str(pts[min_index].val)</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    curr[min_index] = <span class="string">'None'</span></div><div class="line">                </div><div class="line">            </div><div class="line">        <span class="keyword">return</span> head.next</div></pre></td></tr></table></figure>
<p>这个算法很不幸还没有 AC，最后一个测试用例运行时间无法满足。我会继续更新。但我觉得这个算法很有趣，特此记录。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/algorithm/">algorithm</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/05/02/merge-k-sorted-lists/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/05/01/javascript-what-this-is/"><span>JavaScript: this, 这个到底是哪个？</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/05/01/javascript-what-this-is/" rel="bookmark">
        <time class="entry-date published" datetime="2017-05-01T14:25:59.000Z">
          2017-05-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>最近做项目过程中，遇到了一个问题：因为需要解析 JavaScript 代码，所以会需要解析 <code>this</code> 指的是什么。经过一番实验查询，现在有了一个初步的结果，特此记录。</p>
<p><code>this</code> 一般来说只存在于方法体中，而其指代，说白了就三种情况。</p>
<h2 id="一般情况"><a href="#一般情况" class="headerlink" title="一般情况"></a>一般情况</h2><p>一般情况下，<code>this</code> 指代调用所在方法的对象。示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">testThis</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> obj = &#123;&#125;</div><div class="line">obj.x = <span class="number">1</span></div><div class="line">obj.testThis = testThis</div><div class="line"></div><div class="line">obj.testThis()  <span class="comment">// 打印 1</span></div></pre></td></tr></table></figure>
<p>当 <code>obj</code> 调用 <code>testThis</code> 时，<code>this</code> 指向调用者 <code>obj</code>。</p>
<p>需要注意的是，这里 <code>this</code> 只与方法调用位置有关，与方法定义位置无关。示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj1 = &#123;&#125;</div><div class="line">obj1.x = <span class="number">1</span></div><div class="line">obj1.testThis = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> obj2 = &#123;&#125;</div><div class="line">obj2.x = <span class="number">2</span></div><div class="line">obj2.testThis = obj1.testThis</div><div class="line">obj2.testThis()  <span class="comment">// 打印 2</span></div></pre></td></tr></table></figure>
<h3 id="全局调用"><a href="#全局调用" class="headerlink" title="全局调用"></a>全局调用</h3><p>特别地，若直接调用这个方法，这个方法的调用者为默认全局对象，如浏览器中的 <code>[Object Window]</code>，或是 node 中的 <code>[object global]</code>。示例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">testThis</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</div><div class="line">&#125;</div><div class="line"></div><div class="line">global.x = <span class="number">2</span></div><div class="line"></div><div class="line">testThis()  <span class="comment">// 打印 2</span></div></pre></td></tr></table></figure>
<h3 id="类调用"><a href="#类调用" class="headerlink" title="类调用"></a>类调用</h3><p>在类定义的代码块（包括构造方法）中，<code>this</code> 默认指代这个类本身（或者说在类被实例化之后指这个实例）。示例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestThis</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span> () &#123;</div><div class="line">        <span class="keyword">this</span>.x = <span class="number">3</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    printThis () &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">test = <span class="keyword">new</span> TestThis()</div><div class="line"><span class="built_in">console</span>.log(test.x)  <span class="comment">// 打印 3</span></div><div class="line">test.printThis()  <span class="comment">// 打印 3</span></div></pre></td></tr></table></figure>
<h2 id="特殊情况"><a href="#特殊情况" class="headerlink" title="特殊情况"></a>特殊情况</h2><p>说完了一般情况，下面是有一点特殊的情况。</p>
<h3 id="apply-与-call"><a href="#apply-与-call" class="headerlink" title="apply() 与 call()"></a>apply() 与 call()</h3><p>关于 <code>apply()</code>，我无法比阮一峰老师解释的更清楚了，这里引用他的解释：</p>
<blockquote>
<p><code>apply()</code> 是函数对象的一个方法，它的作用是改变函数的调用对象，它的第一个参数就表示改变后的调用这个函数的对象。因此，<code>this</code> 指的就是这第一个参数。</p>
</blockquote>
<p>而 <code>call()</code> 于 <code>apply()</code> 的区别仅在于参数传入方式，示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj1 = &#123;&#125;</div><div class="line"><span class="keyword">let</span> obj2 = &#123;&#125;</div><div class="line"></div><div class="line">obj1.x = <span class="number">1</span></div><div class="line">obj2.x = <span class="number">2</span></div><div class="line"></div><div class="line">obj1.testThis = <span class="function"><span class="keyword">function</span> (<span class="params">a1, a2</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</div><div class="line">&#125;</div><div class="line"></div><div class="line">obj.testThis.apply(obj2, [<span class="string">'a1'</span>, <span class="string">'a2'</span>])  <span class="comment">// 打印 2</span></div><div class="line">obj.testThis.call(obj2, <span class="string">'a1'</span>, <span class="string">'a2'</span>)  <span class="comment">// 打印 2</span></div></pre></td></tr></table></figure>
<p>a1, a2 为 <code>obj1.testThis</code> 的参数。可以看到 <code>apply()</code> 的将参数以数组（<code>apply()</code> 的第二个参数）方式传入，而 <code>call()</code> 将第一个参数之后的参数直接传入作为参数列表。</p>
<h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h3><p><code>forEach()</code> 方法在 ECMAScript 5.1 首次被引入，语法如下：</p>
<p><code>arr.forEach(callback[, thisArg])</code></p>
<p>可以看到第一个参数是回调函数，而第二个参数是可选的，指定 <code>this</code> 的指代。值得注意的是，如果在此处不特别指定 <code>this</code> 的指代，<code>this</code> 将回落为指代全局对象。示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a = [<span class="number">1</span>，<span class="number">2</span>]</div><div class="line"></div><div class="line">a.forEach(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.toString())  <span class="comment">// 打印 [object global] 两次</span></div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
<h2 id="特别感谢与更多参考"><a href="#特别感谢与更多参考" class="headerlink" title="特别感谢与更多参考"></a>特别感谢与更多参考</h2><p>MDN 上 <code>forEach()</code> 方法的文档：<br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" rel="external">Array.prototype.forEach()</a></p>
<p>阮一峰老师关于 <code>this</code> 的解释：<br><a href="http://www.ruanyifeng.com/blog/2010/04/using_this_keyword_in_javascript.html" target="_blank" rel="external">Javascript 的 this 用法</a></p>
<p>Maplewing 在英特尔开发人员专区关于 <code>this</code> 的解释：<br><a href="https://software.intel.com/zh-cn/blogs/2013/10/09/javascript-this" target="_blank" rel="external">#Javascript：this 用法整理</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/javascript/">javascript</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/05/01/javascript-what-this-is/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/27/a-update-of-the-template-tool-for-my-blog/"><span>A Update Of The Template Tool For My Blog</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/27/a-update-of-the-template-tool-for-my-blog/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-27T04:37:09.000Z">
          2017-04-27
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>博客模板工具再次更新！<br>毕竟这个博客并不只是为了记录题目（虽然这是一个主要用途），那么写作其他内容时需要一个简单的模板，只包含标题，标签和时间。<br>于是有了这次更新。<br>同时，我把这个小脚本放在了 GitHub 上，虽然我几乎确定这个轮子已经被造了无数遍了，但是自己用还是自己写比较方便。</p>
<p>地址：<a href="https://github.com/4faramita/Hexo-Template-Generator" target="_blank" rel="external">https://github.com/4faramita/Hexo-Template-Generator</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/works/">works</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/04/27/a-update-of-the-template-tool-for-my-blog/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/25/best-time-to-buy-and-sell-stock-ii/"><span>122. Best Time to Buy and Sell Stock II</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/25/best-time-to-buy-and-sell-stock-ii/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-24T16:38:00.000Z">
          2017-04-25
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><strong>Difficulty: Easy</strong></p>
<p>Say you have an array for which the i(th) element is the price of a given stock on day i.</p>
<p>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times). However, you may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p>
<p>给出一个数列，第 i 个位置代表第 i 天的股价，求最大利润。<br>隐含条件是每次买卖一股，本金不限。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>思路：<br>炒股的思路很简单：高买低卖。<br>本题等于有上帝视角，那么只需找出所有单调递增段，最低点买入最高点卖出即可。</p>
<p>定义变量：<br>low：当前单调递增周期中低点；若位于单调递减周前则为 None<br>high：当前单调递增周期中高点；<br>profit：累计利润<br>up：标记是否位于单调递增区间。</p>
<p>扫描一遍数列：<br>开始时长度小于 3 的基本情况。</p>
<p>数列更大时：维护当前单调递增周期的 low 与 high；<br>当前单调递增周期结束时（后一值小于前一值）结算一次利润，同时 up = False，low = None<br>重新到达单调递增区间时重新设定 low 为低点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type prices: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(prices) &lt;= <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> len(prices) == <span class="number">2</span>:</div><div class="line">            <span class="keyword">return</span> max(prices[<span class="number">1</span>] - prices[<span class="number">0</span>], <span class="number">0</span>)</div><div class="line">    </div><div class="line">        low = prices[<span class="number">0</span>]</div><div class="line">        high = prices[<span class="number">0</span>]</div><div class="line">        profit = <span class="number">0</span></div><div class="line">        up = <span class="keyword">True</span></div><div class="line">    </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(prices) - <span class="number">1</span>):</div><div class="line">            <span class="keyword">if</span> prices[i + <span class="number">1</span>] &gt;= prices[i]:  <span class="comment"># going up</span></div><div class="line">                high = prices[i + <span class="number">1</span>]</div><div class="line">                up = <span class="keyword">True</span></div><div class="line">                <span class="keyword">if</span> low == <span class="keyword">None</span>:</div><div class="line">                    low = prices[i]</div><div class="line">            <span class="keyword">elif</span> prices[i + <span class="number">1</span>] &lt; prices[i]:</div><div class="line">                <span class="keyword">if</span> up == <span class="keyword">True</span>:</div><div class="line">                    profit += (high - low)</div><div class="line">                up = <span class="keyword">False</span></div><div class="line">                low = <span class="keyword">None</span></div><div class="line">        <span class="keyword">if</span> up == <span class="keyword">True</span>:</div><div class="line">            profit += (high - low)</div><div class="line">        <span class="keyword">return</span> profit</div></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/algorithm/">algorithm</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/04/25/best-time-to-buy-and-sell-stock-ii/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/18/best-time-to-buy-and-sell-stock/"><span>121. Best Time to Buy and Sell Stock</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/18/best-time-to-buy-and-sell-stock/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-18T08:51:32.000Z">
          2017-04-18
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><strong>Difficulty: Easy</strong></p>
<p>Say you have an array for which the ith element is the price of a given stock on day i.</p>
<p>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h3><p>Input: [7, 1, 5, 3, 6, 4]<br>Output: 5</p>
<p>max. difference = 6-1 = 5 (not 7-1 = 6, as selling price needs to be larger than buying price)</p>
<h2 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2:"></a>Example 2:</h2><p>Input: [7, 6, 4, 3, 1]<br>Output: 0</p>
<p>In this case, no transaction is done, i.e. max profit = 0.</p>
<p>给出一数组，代表每天的股价。要求只能买卖一次，求最大利润。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>实际上是求数组中后面的数与前面的数的最大差值。<br>最简单的方法自然是两个循环，但是时间复杂度为 O(n^2)，很不理想。</p>
<p>思路：由于在每个单调区间中对答案有意义的元素只有区间两端的值而已。<br>因此构建两个新数组，分别只包含每个单调区间的最大值与最小值。<br>之后，针对最小值数组中每个元素，找最大值数组相应位置及之后的最大元素即可算出最大差值（利润）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type prices: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        max_profit = <span class="number">0</span></div><div class="line">    </div><div class="line">        <span class="keyword">if</span> len(prices) == <span class="number">2</span>:</div><div class="line">            <span class="keyword">return</span> max(prices[<span class="number">1</span>] - prices[<span class="number">0</span>], <span class="number">0</span>)</div><div class="line">    </div><div class="line">        <span class="keyword">elif</span> len(prices) &gt; <span class="number">2</span>:</div><div class="line">            low = prices[<span class="number">0</span>]</div><div class="line">            high = prices[<span class="number">0</span>]</div><div class="line">            profit = <span class="number">0</span></div><div class="line">            list_low = [prices[<span class="number">0</span>]]</div><div class="line">            list_high = []</div><div class="line">            up = <span class="keyword">True</span></div><div class="line">        </div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(prices) - <span class="number">1</span>):</div><div class="line">                <span class="keyword">if</span> prices[i + <span class="number">1</span>] &gt;= prices[i]:  <span class="comment"># going up</span></div><div class="line">                    high = prices[i + <span class="number">1</span>]</div><div class="line">                    <span class="keyword">if</span> up == <span class="keyword">False</span>:</div><div class="line">                        low = prices[i]</div><div class="line">                        list_low.append(low)</div><div class="line">                        up = <span class="keyword">True</span></div><div class="line">                <span class="keyword">elif</span> prices[i + <span class="number">1</span>] &lt; prices[i]:  <span class="comment"># going down</span></div><div class="line">                    low = prices[i + <span class="number">1</span>]</div><div class="line">                    <span class="keyword">if</span> up == <span class="keyword">True</span>:</div><div class="line">                        high = prices[i]</div><div class="line">                        list_high.append(high)</div><div class="line">                        up = <span class="keyword">False</span></div><div class="line">            <span class="keyword">if</span> len(list_high) &lt; len(list_low):</div><div class="line">                list_high.append(prices[<span class="number">-1</span>])</div><div class="line">    </div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> xrange(len(list_low)):</div><div class="line">                max_profit = max(max_profit, max(list_high[j:]) - list_low[j])</div><div class="line">        <span class="keyword">return</span> max_profit</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/algorithm/">algorithm</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/04/18/best-time-to-buy-and-sell-stock/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/14/ShadowsocksX-NG-R8-Updater/"><span>一个更新 ShadowsocksX-NG-R8 的小工具</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/14/ShadowsocksX-NG-R8-Updater/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-14T15:48:02.000Z">
          2017-04-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>在国内上网的话，绕不开 GFW 这个话题。要翻墙的话，如果你在用 macOS，那么 ShadowsocksX-NG-R8 是个不错的选择。ShadowsocksX-NG 从 ShadowsocksX fork 而来，而 ShadowsocksX-NG-R8 又是 ShadowsocksX-NG 的支持 ShadowsocksR 的 fork，目前维护十分活跃。</p>
<p>维护活跃就意味着更新频繁，当然这是件好事，但是每次打开网页手工下载实在太麻烦。于是写了个这个小工具用于自动下载最新版本。</p>
<p><a href="https://github.com/4faramita/ShadowsocksX-NG-R8-Updater" target="_blank" rel="external">ShadowsocksX-NG-R8-Updater</a></p>
<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><p>克隆仓库：</p>
<p><code>git clone git@github.com:4faramita/ShadowsocksX-NG-R8-Updater.git</code></p>
<p>脚本用 Node 写成，基于 cheerio 和 request。因此你需要安装 Node 和 npm：</p>
<p><code>brew install node npm</code></p>
<p>然后安装依赖：</p>
<p><code>npm install cheerio request -g</code></p>
<p>然后运行即可，文件会下载到脚本所在目录。</p>
<p><code>cd ShadowsocksX-NG-R8-Updater</code></p>
<p><code>node updater.js</code></p>
<h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><p>既然你想用这个脚本，我假设你已经在用 ShadowsocksX-NG-R8 并打开了「HTTP 代理」，所以本脚本会自动调用 <a href="http://127.0.0.1:1087/" target="_blank" rel="external">http://127.0.0.1:1087</a> 作为默认 HTTP 代理。</p>
<p>如果你不想使用代理，请用这个命令</p>
<p> <code>node updater.js -n</code>;</p>
<p>如果你想使用其他代理：</p>
<p> <code>node updater.js -y [服务器] [端口]</code>. </p>
<p>比如: <code>node updater.js -y 127.0.0.1 1087</code>. </p>
<p>无需手工添加<code>http://</code>，这也意味着本脚本只支持 HTTP 代理</p>
<h2 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h2><p>未来还有一些不痛不痒的功能需要添加，比如</p>
<ul>
<li>自定义下载路径</li>
<li>校验 GPG Sig</li>
<li>显示下载进度</li>
<li>用 Python 重写</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/works/">works</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/04/14/ShadowsocksX-NG-R8-Updater/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/11/climbing-stairs/"><span>70. Climbing Stairs</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/11/climbing-stairs/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-11T02:00:59.000Z">
          2017-04-11
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><strong>Difficulty: Easy</strong></p>
<p></p><p>You are climbing a stair case. It takes <i>n</i> steps to reach to the top.</p>

<p>Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?<br></p>

<p><b>Note:</b> Given <i>n</i> will be a positive integer.<br></p>

<p>n 阶楼梯，每次可以爬一阶或者两阶，问有多少种方法。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>由于包含动态规划的两个特征：</p>
<ul>
<li>最优子结构</li>
<li>重复的子问题</li>
</ul>
<p>因此可用动态规划。</p>
<p>核心算法：为了到达第 i 阶（i &gt;= 3)，可以从 i - 1 阶上一阶，也可以从 i - 2 阶上两阶。递归这个算法即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">climbStairs</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        stor = &#123;<span class="number">1</span>: <span class="number">1</span>, <span class="number">2</span>: <span class="number">2</span>&#125;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">3</span>, n+<span class="number">1</span>):</div><div class="line">            stor[i] = stor[i<span class="number">-1</span>] + stor[i<span class="number">-2</span>]</div><div class="line">        <span class="keyword">return</span> stor[n]</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/algorithm/">algorithm</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/04/11/climbing-stairs/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/04/count-and-say/"><span>38. Count and Say</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/04/count-and-say/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-04T06:23:48.000Z">
          2017-04-04
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><strong>Difficulty: Easy</strong></p>
<p></p><p>The count-and-say sequence is the sequence of integers beginning as follows:<br><br><code>1, 11, 21, 1211, 111221, …</code><br></p>

<p><br><code>1</code> is read off as <code>“one 1”</code> or <code>11</code>.<br><br><code>11</code> is read off as <code>“two 1s”</code> or <code>21</code>.<br><br><code>21</code> is read off as <code>“one 2</code>, then <code>one 1”</code> or <code>1211</code>.<br><br></p>

<p><br>Given an integer <i>n</i>, generate the <i>n</i><sup>th</sup> sequence.<br></p>

<p><br>Note: The sequence of integers will be represented as a string.<br></p>

<p><b>题意:</b><br><br>有这样一个数列，下一个元素是由上一个元素按照（元素个数，元素）的方法组成的。<br>求这个数列的第 n 个元素。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>迭代：把数列的上一个元素在元素变化的点切分，然后数出每一块的长度即可。<br>_loop 函数用来迭代。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">_loop</span><span class="params">(s)</span>:</span></div><div class="line">    <span class="keyword">if</span> len(s) == <span class="number">1</span>:</div><div class="line">        <span class="keyword">return</span> <span class="string">'11'</span></div><div class="line">    head, tail = <span class="number">1</span>, <span class="number">0</span></div><div class="line">    rslt = []</div><div class="line">    rslt_s = <span class="string">''</span></div><div class="line">    scanning = <span class="keyword">False</span></div><div class="line">    <span class="keyword">while</span> max(head, tail) &lt; len(s):</div><div class="line">        <span class="keyword">if</span> s[head] == s[tail] <span class="keyword">and</span> <span class="keyword">not</span> scanning:</div><div class="line">            scanning = <span class="keyword">True</span></div><div class="line">        <span class="keyword">elif</span> s[head] != s[tail]:</div><div class="line">            rslt.append(s[tail:head])</div><div class="line">            tail = head</div><div class="line">            <span class="keyword">if</span> scanning:</div><div class="line">                scanning = <span class="keyword">False</span></div><div class="line">        head += <span class="number">1</span></div><div class="line">    <span class="comment"># if scanning:</span></div><div class="line">    rslt.append(s[tail:])</div><div class="line">    <span class="keyword">for</span> sub <span class="keyword">in</span> rslt:</div><div class="line">        rslt_s = rslt_s + str(len(sub)) + sub[<span class="number">0</span>]</div><div class="line">    <span class="keyword">return</span> rslt_s</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countAndSay</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: str</div><div class="line">        """</div><div class="line">        rslt = <span class="string">'1'</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</div><div class="line">            rslt = _loop(rslt)</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> rslt</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/algorithm/">algorithm</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/04/04/count-and-say/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>




<nav class="pagination">
  
  <a href="/" class="pagination-prev">Prev</a>
  
  
  <a href="/page/3/" class="pagination-next">Next</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 4faramita
    
  </p>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-93516577-1', 'auto');
    ga('send', 'pageview');

</script>

  </div>
</div>
</body>
</html>